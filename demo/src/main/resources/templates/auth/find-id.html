<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head th:replace="~{fragments/head :: head('아이디 찾기 - 주한미군 전역장병 채용 플랫폼')}"></head>

<body class="sub">
<div class="wrapper">

    <!-- Header -->
    <th:block th:replace="~{fragments/header :: header}"></th:block>

    <div class="sub_container">
        <div class="container">
            <div class="login_view">
                <div class="sub_tit mb20">아이디 찾기</div>
                
                <div class="sub_tab">
                    <a href="#" class="on" id="tabPersonal" onclick="switchTab('personal'); return false;">개인회원</a>
                    <a href="#" id="tabCompany" onclick="switchTab('company'); return false;">기업회원</a>
                </div>

                <!-- 개인회원 -->
                <div id="personalForm">
                    <div class="login_box">
                        <div class="mar1">
                            <input type="text" class="input" id="pName" placeholder="이름">
                        </div>
                        <div class="mar2">
                            <input type="email" class="input" id="pEmail" placeholder="가입시 등록한 이메일">
                        </div>
                        <div class="btn_area center">
                            <a href="#" class="btn-submit" onclick="findPersonalId(); return false;">아이디 찾기</a>
                        </div>
                    </div>
                </div>

                <!-- 기업회원 -->
                <div id="companyForm" style="display:none;">
                    <div class="login_box">
                        <div class="mar1">
                            <input type="text" class="input" id="cName" placeholder="담당자명">
                        </div>
                        <div class="mar2">
                            <input type="email" class="input" id="cEmail" placeholder="가입시 등록한 이메일">
                        </div>
                        <div class="btn_area center">
                            <a href="#" class="btn-submit" onclick="findCompanyId(); return false;">아이디 찾기</a>
                        </div>
                    </div>
                </div>

                <!-- 결과 표시 영역 -->
                <div id="resultArea" style="display:none; margin-top:30px; padding:30px; background:#f5f5f5; border-radius:15px; text-align:center;">
                    <p id="resultText" style="font-size:18px;"></p>
                </div>

                <div class="join_info">
                    <a th:href="@{/auth/login}">로그인</a>
                    <span class="bar"></span>
                    <a th:href="@{/auth/find-pw}">비밀번호 찾기</a>
                    <span class="bar"></span>
                    <a th:href="@{/auth/register}">회원가입</a>
                </div>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer th:replace="~{fragments/footer :: footer}"></footer>

</div>

<!-- Scripts -->
<th:block th:replace="~{fragments/footer :: scripts}"></th:block>
<script>
function switchTab(type) {
    const tabPersonal = document.getElementById('tabPersonal');
    const tabCompany = document.getElementById('tabCompany');
    const formPersonal = document.getElementById('personalForm');
    const formCompany = document.getElementById('companyForm');
    
    if (type === 'personal') {
        tabPersonal.classList.add('on');
        tabCompany.classList.remove('on');
        formPersonal.style.display = 'block';
        formCompany.style.display = 'none';
    } else {
        tabPersonal.classList.remove('on');
        tabCompany.classList.add('on');
        formPersonal.style.display = 'none';
        formCompany.style.display = 'block';
    }
}

function findPersonalId() {
    const name = document.getElementById('pName').value;
    const email = document.getElementById('pEmail').value;
    
    if (!name || !email) {
        alert('이름과 이메일을 입력해주세요.');
        return;
    }
    
    // 실제로는 서버에 요청해야 함
    document.getElementById('resultArea').style.display = 'block';
    document.getElementById('resultText').innerHTML = '입력하신 정보와 일치하는 아이디가 없습니다.<br>회원가입을 진행해주세요.';
}

function findCompanyId() {
    const name = document.getElementById('cName').value;
    const email = document.getElementById('cEmail').value;
    
    if (!name || !email) {
        alert('담당자명과 이메일을 입력해주세요.');
        return;
    }
    
    document.getElementById('resultArea').style.display = 'block';
    document.getElementById('resultText').innerHTML = '입력하신 정보와 일치하는 아이디가 없습니다.<br>회원가입을 진행해주세요.';
}
</script>

</body>
</html>
