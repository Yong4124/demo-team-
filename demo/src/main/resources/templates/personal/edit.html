<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head th:replace="~{fragments/layout :: head('USFK Jobs - 회원정보 수정')}"></head>
<body>
<nav th:replace="~{fragments/layout :: header}"></nav>

<main class="py-5">
    <div class="container">
        <div class="row">
            <!-- 사이드바 -->
            <div class="col-md-3">
                <div class="list-group shadow-sm">
                    <a th:href="@{/personal/mypage}" class="list-group-item list-group-item-action">
                        <i class="bi bi-house me-2"></i>마이페이지
                    </a>
                    <a th:href="@{/personal/edit}" class="list-group-item list-group-item-action active">
                        <i class="bi bi-person-gear me-2"></i>회원정보 수정
                    </a>
                    <a th:href="@{/personal/resumes}" class="list-group-item list-group-item-action">
                        <i class="bi bi-file-earmark-person me-2"></i>이력서 관리
                    </a>
                    <a th:href="@{/personal/applications}" class="list-group-item list-group-item-action">
                        <i class="bi bi-send me-2"></i>지원현황
                    </a>
                    <a th:href="@{/personal/favorites}" class="list-group-item list-group-item-action">
                        <i class="bi bi-heart me-2"></i>관심 채용공고
                    </a>
                </div>
            </div>
            
            <!-- 메인 콘텐츠 -->
            <div class="col-md-9">
                <h4 class="fw-bold mb-4">
                    <i class="bi bi-person-gear me-2 text-primary"></i>회원정보 수정
                </h4>
                
                <div class="card shadow-sm">
                    <div class="card-body p-4">
                        <form th:action="@{/personal/edit}" method="post" th:object="${member}">
                            
                            <!-- 계정 정보 (수정 불가) -->
                            <h5 class="mb-3 text-primary"><i class="bi bi-key me-2"></i>계정 정보</h5>
                            <div class="row mb-3">
                                <div class="col-md-6">
                                    <label class="form-label">아이디</label>
                                    <input type="text" class="form-control" th:value="${member.loginId}" disabled>
                                    <small class="text-muted">아이디는 변경할 수 없습니다.</small>
                                </div>
                                <div class="col-md-6">
                                    <label class="form-label">이메일</label>
                                    <input type="email" class="form-control" th:field="*{email}" required>
                                </div>
                            </div>
                            
                            <hr class="my-4">
                            
                            <!-- 개인 정보 -->
                            <h5 class="mb-3 text-primary"><i class="bi bi-person me-2"></i>개인 정보</h5>
                            <div class="row mb-3">
                                <div class="col-md-6">
                                    <label class="form-label">이름 (First Name)</label>
                                    <input type="text" class="form-control" th:field="*{firstName}" required>
                                </div>
                                <div class="col-md-6">
                                    <label class="form-label">성 (Last Name)</label>
                                    <input type="text" class="form-control" th:field="*{lastName}" required>
                                </div>
                            </div>
                            <div class="row mb-3">
                                <div class="col-md-6">
                                    <label class="form-label">성별</label>
                                    <select class="form-select" th:field="*{gender}">
                                        <option value="">선택</option>
                                        <option value="1">남성</option>
                                        <option value="2">여성</option>
                                        <option value="3">기타</option>
                                        <option value="4">무응답</option>
                                    </select>
                                </div>
                                <div class="col-md-6">
                                    <label class="form-label">거주지</label>
                                    <select class="form-select" th:field="*{residence}">
                                        <option value="">선택</option>
                                        <option value="2">대한민국</option>
                                        <option value="3">미국</option>
                                        <option value="1">기타</option>
                                    </select>
                                </div>
                            </div>
                            
                            <hr class="my-4">
                            
                            <!-- 군 정보 -->
                            <h5 class="mb-3 text-primary"><i class="bi bi-shield me-2"></i>군 정보</h5>
                            <div class="row mb-3">
                                <div class="col-md-6">
                                    <label class="form-label">복무형태</label>
                                    <select class="form-select" th:field="*{serviceCategory}">
                                        <option value="">선택</option>
                                        <option value="1">USFK</option>
                                        <option value="2">KATUSA</option>
                                        <option value="3">CFC(ROK)</option>
                                        <option value="4">Retired MND,JCS,and/or services(ROK)</option>
                                    </select>
                                </div>
                                <div class="col-md-6">
                                    <label class="form-label">소속 군</label>
                                    <select class="form-select" th:field="*{serviceBranch}">
                                        <option value="">선택</option>
                                        <option value="1">KATUSA</option>
                                        <option value="2">ROK Air Force</option>
                                        <option value="3">ROK Army</option>
                                        <option value="4">ROK Marine Corps</option>
                                        <option value="5">ROK Navy</option>
                                        <option value="6">ROKA Support Group</option>
                                        <option value="7">U.S Air Force</option>
                                        <option value="8">U.S Army</option>
                                        <option value="9">U.S DoD Personnel</option>
                                        <option value="10">U.S Marine Corps</option>
                                        <option value="11">U.S Navy</option>
                                    </select>
                                </div>
                            </div>
                            <div class="row mb-3">
                                <div class="col-md-6">
                                    <label class="form-label">계급</label>
                                    <input type="text" class="form-control" th:field="*{lastRank}">
                                </div>
                                <div class="col-md-6">
                                    <label class="form-label">복무년도</label>
                                    <input type="text" class="form-control" th:field="*{serviceYear}" placeholder="예: 2020-2022">
                                </div>
                            </div>
                            <div class="row mb-3">
                                <div class="col-md-6">
                                    <label class="form-label">주둔지</label>
                                    <input type="text" class="form-control" th:field="*{serviceStation}">
                                </div>
                                <div class="col-md-6">
                                    <label class="form-label">부대 및 직책</label>
                                    <input type="text" class="form-control" th:field="*{unitPosition}">
                                </div>
                            </div>
                            
                            <hr class="my-4">
                            
                            <div class="d-grid gap-2">
                                <button type="submit" class="btn btn-primary btn-lg">
                                    <i class="bi bi-check-circle me-2"></i>저장
                                </button>
                                <a th:href="@{/personal/mypage}" class="btn btn-outline-secondary">취소</a>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>
</main>

<footer th:replace="~{fragments/layout :: footer}"></footer>
<th:block th:replace="~{fragments/layout :: scripts}"></th:block>
</body>
</html>
